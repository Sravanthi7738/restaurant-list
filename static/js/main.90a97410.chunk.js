(this["webpackJsonprestaurent-details"]=this["webpackJsonprestaurent-details"]||[]).push([[0],{31:function(e,t,n){},32:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(1),i=n(14),c=n.n(i),s=(n(31),n(32),n(18)),l="RESTAURANTS/FETCH_RESTAURANTS",o="RESTAURANTS/UPDATE_RESTAURANTS",u=n(8),d=n(9),j=n(11),f=(n(39),{AL:"Alabama",AK:"Alaska",AS:"American Samoa",AZ:"Arizona",AR:"Arkansas",CA:"California",CO:"Colorado",CT:"Connecticut",DE:"Delaware",DC:"District Of Columbia",FM:"Federated States Of Micronesia",FL:"Florida",GA:"Georgia",GU:"Guam",HI:"Hawaii",ID:"Idaho",IL:"Illinois",IN:"Indiana",IA:"Iowa",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",ME:"Maine",MH:"Marshall Islands",MD:"Maryland",MA:"Massachusetts",MI:"Michigan",MN:"Minnesota",MS:"Mississippi",MO:"Missouri",MT:"Montana",NE:"Nebraska",NV:"Nevada",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NY:"New York",NC:"North Carolina",ND:"North Dakota",MP:"Northern Mariana Islands",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PW:"Palau",PA:"Pennsylvania",PR:"Puerto Rico",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VT:"Vermont",VI:"Virgin Islands",VA:"Virginia",WA:"Washington",WV:"West Virginia",WI:"Wisconsin",WY:"Wyoming"}),b="SELECT",O="SELECT_ARRAY",h="TEXT",p="NONE",m="ASC",x="DESC",v="NONE",g="name",N="genre",S=[{field:g,name:"Restaurant Name",searchable:!0,filter:p,sort:m},{field:"city",name:"City",searchable:!0,filter:h,sort:m},{field:"state",name:"State",searchable:!0,filter:b,sort:m,getDisplayValue:function(e){return f[e]}},{field:"telephone",name:"Phone Number",searchable:!0,filter:p,sort:v},{field:N,name:"Genre",searchable:!0,filter:O,sort:v,getDisplayValue:function(e){return e.join(", ")}}];function A(e,t){return t.filterType===O?!!e[t.name].find((function(e){return e.toLowerCase().includes(t.value.toLowerCase())})):(t.filterType,e[t.name].toLowerCase().includes(t.value.toLowerCase()))}n(40);var C=function(e){return Object(a.jsx)("div",{className:"Loader",children:"Loading ..."})};var y=function(e){var t=e.columns,n=e.data,i=e.perPageRecord,c=e.defaultSort,s=e.isLoading,l=Object(r.useState)(0),o=Object(j.a)(l,2),f=o[0],p=o[1],g=Object(r.useState)(n),N=Object(j.a)(g,2),S=N[0],y=N[1],T=Object(r.useState)(""),w=Object(j.a)(T,2),M=w[0],R=w[1],D=Object(r.useState)([]),E=Object(j.a)(D,2),L=E[0],I=E[1],k=Object(r.useState)(!0),V=Object(j.a)(k,2),F=V[0],P=V[1],_=Object(r.useState)([]),W=Object(j.a)(_,2),U=W[0],H=W[1],K=Object(r.useState)(c),G=Object(j.a)(K,2),Y=G[0],J=G[1];Object(r.useEffect)((function(){H(Object(d.a)(S).splice((f-1)*i,i))}),[f]),Object(r.useEffect)((function(){var e=z(L,M);p(1);var t=e.sort((function(e,t){return e[Y.field].localeCompare(t[Y.field])}));Y.order===x&&(t=t.reverse()),y(t),H(Object(d.a)(t).splice((f-1)*i,i))}),[L,M,Y,F]),Object(r.useEffect)((function(){if(!s){var e=n.sort((function(e,t){return e[Y.field].localeCompare(t[Y.field])}));p(1),y(e),H(Object(d.a)(e).slice(0,i))}}),[s]);var z=function(){var e=F?n.filter((function(e){return L.every((function(t){return!t.value||A(e,t)}))})):n;return M?e.filter((function(e){return t.filter((function(e){return e.searchable})).some((function(t){var n=Object(u.a)({},e);return t.filter===b&&t.getDisplayValue&&(n[t.field]="".concat(n[t.field]).concat(t.getDisplayValue(n[t.field]))),A(n,{filterType:t.filter,name:t.field,value:M})}))})):e},B=function(e,t){var n=e.target.value,a=L.find((function(e){return e.name===t.field}));a?a.value=n:L.push({name:t.field,value:n,filterType:t.filter}),I(Object(d.a)(L))};return Object(a.jsxs)("div",{className:"table-container",children:[Object(a.jsx)("div",{className:"search_box",children:Object(a.jsxs)("div",{className:"search_container",children:[Object(a.jsx)("input",{type:"text",placeholder:"Search",className:"search",onChange:function(e){return R(e.target.value)}}),Object(a.jsx)("input",{type:"checkbox",placeholder:"Search",id:"disableFilter",className:"disable_filter",onChange:function(e){P(!e.target.checked)}}),Object(a.jsx)("label",{for:"disableFilter",children:" Disable Filter"})]})}),Object(a.jsxs)("div",{className:"table_section",children:[s&&Object(a.jsx)(C,{}),Object(a.jsxs)("table",{className:"zebra",children:[Object(a.jsxs)("thead",{children:[Object(a.jsx)("tr",{children:t.map((function(e){return Object(a.jsxs)("th",{children:[e.name,e.sort!==v&&Object(a.jsx)("img",{onClick:function(){!function(e){e.field===Y.field?Y.order=Y.order===m?x:m:(Y.field=e.field,Y.orer=m),J(Object(u.a)({},Y))}(e)},className:"sort_icon",src:"sort-arrows.svg"})]},e.field)}))}),Object(a.jsx)("tr",{className:"filter",children:t.map((function(e){if(e.filter===h)return Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"text",placeholder:"",disabled:!F,onChange:function(t){return B(t,e)}})});if(e.filter===b){var t=Object(d.a)(new Set(n.map((function(t){return t[e.field]}))));return Object(a.jsx)("td",{children:Object(a.jsxs)("select",{disabled:!F,onChange:function(t){return B(t,e)},children:[Object(a.jsx)("option",{value:"",children:"All"}),t.map((function(t){return Object(a.jsx)("option",{value:t,children:e.getDisplayValue?e.getDisplayValue(t):t})}))]})})}if(e.filter===O){var r=Object(d.a)(new Set(n.reduce((function(t,n){return t=[].concat(Object(d.a)(t),Object(d.a)(n[e.field]))}),[])));return Object(a.jsx)("td",{children:Object(a.jsxs)("select",{disabled:!F,onChange:function(t){return B(t,e)},children:[Object(a.jsx)("option",{value:"",children:"All"}),r.map((function(e){return Object(a.jsx)("option",{value:e,children:e})}))]})})}return Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"text",placeholder:"",disabled:!0})})}))})]}),Object(a.jsxs)("tbody",{children:[!!U.length&&U.map((function(e){return Object(a.jsx)("tr",{children:t.map((function(t){return Object(a.jsx)("td",{children:t.getDisplayValue?t.getDisplayValue(e[t.field]):e[t.field]})}))},e.id)})),!U.length&&!s&&Object(a.jsx)("tr",{children:Object(a.jsx)("td",{colSpan:"5",className:"empty-result",children:Object(a.jsx)("b",{children:"No Result Found"})})})]})]})]}),Object(a.jsxs)("div",{className:"table_pagination",children:[Object(a.jsxs)("div",{className:"pagination_drop_down",children:["Total: ",Object(a.jsx)("b",{children:S.length})]}),Object(a.jsx)("div",{className:"pagination_list",children:Object(a.jsx)("ul",{className:"pagination",children:new Array(Math.ceil(S.length/i)).fill(0).map((function(e,t){return Object(a.jsx)("li",{onClick:function(){return p(t+1)},className:t+1===f?"active":"",children:Object(a.jsx)("a",{href:"#",children:t+1})})}))})})]})]})};n(41);var T=Object(s.b)((function(e){return{restaurants:e.restaurants.list,isLoading:e.restaurants.isLoading}}),(function(e){return{fetchRestaurants:function(){return e({type:l})}}}))((function(e){var t={field:g,order:m};Object(r.useEffect)((function(){e.fetchRestaurants()}),[]);var n=e.isLoading,i=e.restaurants;return Object(a.jsx)("div",{className:"Restaurant",children:Object(a.jsx)(y,{data:i,isLoading:n,columns:S,perPageRecord:10,defaultSort:t})})}));var w=function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(T,{})})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))},R=n(7),D=n(25),E={isLoading:!0,list:[]},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case o:return Object(u.a)(Object(u.a)({},e),{},{list:t.data,isLoading:!1});default:return e}},I=Object(R.c)({restaurants:L}),k=n(10),V=n.n(k),F=n(16),P=n(13),_=n(24),W="api/restaurants",U=function(){var e=Object(_.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(W);case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=V.a.mark(G),K=V.a.mark(Y);function G(e){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.b)(U);case 2:return t=e.sent,e.next=5,Object(P.c)((n=t.map((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(F.a)({},N,e[N].split(",")))})),{type:o,data:n}));case 5:case"end":return e.stop()}var n}),H)}function Y(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.a)([Object(P.d)(l,G)]);case 2:case"end":return e.stop()}}),K)}var J=Y,z=Object(D.a)(),B=Object(R.e)(I,Object(R.a)(z));z.run(J);var X=B;c.a.render(Object(a.jsx)(s.a,{store:X,children:Object(a.jsx)(w,{})}),document.getElementById("root")),M()}},[[43,1,2]]]);
//# sourceMappingURL=main.90a97410.chunk.js.map